# 以公平与高效为导向的MEV拍卖平台实现原型MP-RPC

当前仓库包的实现是与本章节实验相匹配的版本，因此如果需要应用到实际的链上环境，需要将本实现的代码迁移至区块链节点中，可以在这个[仓库](https://github.com/bnb-chain/bsc-builder)的基础上进行适配。

## 包结构介绍

- `arbi_detector`: 用于请求套利交易识别服务，识别搜索者交易是否具有潜在的套利价值。

- `base`: 基础包，主要定义了`Bundle`结构和模拟器两个基础对象，以及这两个对象的成员函数。

- `bundlepool`: 核心包，定义了核心的交易包池`Bundle Pool`和交易包分组`Bundle Group`结构，以及围绕这两个结构的核心算法实现，如：分组机制、优先级选择机制、定时转发算法等等

- `cmd`: 整个程序的启动入口，负责程序初始化和服务监听开启，主要是为了开展实验。

- `jsonrpcserver`: 借鉴了`MEV-Share Node`的实现，封装了JSON-RPC协议的接口调用实现

- `mev_api`: 接口定义，用于接收搜索者和用户提交的交易和交易包数据

- `push`: 封装了交易转发至区块构建者和推流给搜索者的逻辑实现

- `zap_logger`: 日志模块，用于打印和保存程序运行过程中的日志信息


## 如何运行

1. 首先需要安装go环境，这个可以参照官网安装即可，注意需要使用`go.mod`文件中指出的版本，即`1.22.0`

2. 下载该仓库内容

3. 执行`go mod tidy`

4. 执行`go run main.go`即可

5. 也可以选择执行`go build`将整个项目打包成二进制可执行文件，然后再运行